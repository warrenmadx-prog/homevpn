<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Guide: Building & Using OpenVPN 3 on Linux Mint</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }
        body {
            background-color: #f5f7fa;
            color: #333;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            font-weight: 300;
        }
        h2 {
            color: #2c3e50;
            padding: 1rem 0 0.5rem 0;
            margin-top: 2rem;
            border-bottom: 2px solid #4a6491;
        }
        h3 {
            color: #3498db;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        section {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .note, .warning, .success {
            padding: 1rem;
            border-left: 5px solid;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        .note {
            background-color: #e8f4fc;
            border-left-color: #3498db;
        }
        .warning {
            background-color: #fdf2e9;
            border-left-color: #e67e22;
        }
        .success {
            background-color: #eafaf1;
            border-left-color: #27ae60;
        }
        pre {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.4;
        }
        code {
            background-color: #f1f1f1;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        .command {
            color: #2ecc71;
            font-weight: bold;
        }
        .file-path {
            color: #e74c3c;
        }
        .flowchart {
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            text-align: center;
            border: 1px dashed #bdc3c7;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f2f6fc;
            color: #2c3e50;
            font-weight: 600;
        }
        tr:hover {
            background-color: #f9f9f9;
        }
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            color: #7f8c8d;
            font-size: 0.9rem;
            border-top: 1px solid #ecf0f1;
        }
        .step-number {
            display: inline-block;
            background-color: #3498db;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            margin-right: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <h1>Complete Guide: Building & Using OpenVPN 3 on Linux Mint</h1>
        <p class="subtitle">From source compilation to VPN connection - A comprehensive tutorial based on real troubleshooting experience</p>
    </header>

    <section id="overview">
        <h2>üìã Project Overview</h2>
        <p>This guide documents the complete process of building OpenVPN 3 Linux client from source on Linux Mint and connecting to free VPN services. Unlike standard OpenVPN 2.x, OpenVPN 3 features a modular architecture with privilege separation and built-in configuration management.</p>
        
        <div class="note">
            <strong>What You'll Learn:</strong>
            <ul>
                <li>Building complex software from source on Linux</li>
                <li>Managing dependencies and resolving compilation errors</li>
                <li>Working with Meson build system (modern alternative to Autotools)</li>
                <li>Connecting to VPNs using command-line clients</li>
                <li>Troubleshooting common VPN connection issues</li>
            </ul>
        </div>
        
        <h3>System Context</h3>
        <ul>
            <li><strong>Operating System:</strong> Linux Mint 22 "Zara" (based on Ubuntu 24.04 "Noble")</li>
            <li><strong>Architecture:</strong> x86_64 (standard 64-bit)</li>
            <li><strong>Shell:</strong> Bash</li>
            <li><strong>Key Tools:</strong> Git, Meson, Ninja, GCC, pkg-config</li>
        </ul>
    </section>

    <section id="prerequisites">
        <h2>‚öôÔ∏è Prerequisites & Initial Setup</h2>
        
        <h3><span class="step-number">1</span> Verify Your Linux Mint Version</h3>
        <p>OpenVPN repositories use Ubuntu codenames. Linux Mint "Zara" is based on Ubuntu "Noble" (24.04):</p>
        <pre><code>lsb_release -sc
# Output: zara
# Ubuntu base for Mint Zara: noble (24.04)</code></pre>
        
        <h3><span class="step-number">2</span> Install Essential Build Tools</h3>
        <p>First, update your package list and install fundamental development tools:</p>
        <pre><code>sudo apt update
sudo apt install build-essential git pkg-config meson ninja-build curl</code></pre>
        
        <div class="note">
            <strong>Why These Tools Matter:</strong>
            <ul>
                <li><code>build-essential</code>: Meta-package for C/C++ compilation (gcc, g++, make, etc.)</li>
                <li><code>git</code>: Version control to clone repositories</li>
                <li><code>pkg-config</code:> Helper tool to find library dependencies</li>
                <li><code>meson</code> & <code>ninja-build</code>: Modern build system and its backend</li>
                <li><code>curl</code>: Command-line tool for transferring data with URLs</li>
            </ul>
        </div>
    </section>

    <section id="building-openvpn3">
        <h2>üî® Building OpenVPN 3 from Source</h2>
        
        <div class="warning">
            <strong>Important:</strong> The OpenVPN 3 build process has several tricky dependencies. We'll encounter and solve multiple errors step by step.
        </div>
        
        <h3><span class="step-number">1</span> Clone the Source Repository</h3>
        <pre><code>cd ~
git clone https://codeberg.org/OpenVPN/openvpn3-linux.git
cd openvpn3-linux</code></pre>
        
        <h3><span class="step-number">2</span> Install Dependencies (First Attempt)</h3>
        <p>Based on BUILD.md documentation, install required libraries:</p>
        <pre><code>sudo apt install libglib2.0-dev libjsoncpp-dev uuid-dev liblz4-dev \
libcap-ng-dev libxml2-utils python3-minimal python3-dbus \
python3-docutils python3-jinja2 libtinyxml2-dev policykit-1 \
libsystemd-dev python3-systemd libssl-dev libdbus-1-dev</code></pre>
        
        <h3><span class="step-number">3</span> The Critical Missing Dependency: gdbuspp</h3>
        <p>When running <code>meson setup</code>, the build fails because <code>gdbuspp</code> is not in standard repositories. This C++ D-Bus library is essential for OpenVPN 3's service architecture.</p>
        
        <div class="flowchart">
            <strong>Build Failure Detected:</strong> "Dependency 'gdbuspp' not found, tried pkgconfig"
        </div>
        
        <h4>Solution: Build gdbuspp from Source</h4>
        <pre><code>cd ~
git clone https://codeberg.org/OpenVPN/gdbuspp.git
cd gdbuspp
meson setup --prefix=/usr/local _build
meson compile -C _build
sudo meson install -C _build</code></pre>
        
        <div class="note">
            <strong>Understanding the Fix:</strong> We install to <code>/usr/local</code> (standard for locally built software). The library installs its pkg-config file to <code>/usr/local/lib/pkgconfig/gdbuspp.pc</code>, which <code>pkg-config</code> needs to find.
        </div>
        
        <h3><span class="step-number">4</span> Missing Submodules</h3>
        <p>After fixing gdbuspp, the next error is missing ASIO library:</p>
        <pre><code>meson.build:87:15: ERROR: Include dir ./vendor/asio/asio/include does not exist.</code></pre>
        
        <p><strong>Solution:</strong> Initialize and update Git submodules:</p>
        <pre><code>cd ~/openvpn3-linux
git submodule init
git submodule update --recursive</code></pre>
        
        <h3><span class="step-number">5</span> DCO Support & libnl Dependency</h3>
        <p>Data Channel Offload (DCO) is an optional kernel acceleration feature. You can disable it or install the dependency:</p>
        
        <table>
            <tr>
                <th>Option</th>
                <th>Command</th>
                <th>When to Choose</th>
            </tr>
            <tr>
                <td>Disable DCO</td>
                <td><code>meson setup --prefix=/usr -Ddco=disabled _builddir</code></td>
                <td>Simpler build, no kernel module requirements</td>
            </tr>
            <tr>
                <td>Enable DCO (requires libnl)</td>
                <td><code>sudo apt install libnl-3-dev</code></td>
                <td>For potential performance gains with compatible kernel</td>
            </tr>
        </table>
        
        <h3><span class="step-number">6</span> Final Build Commands</h3>
        <p>After resolving all dependencies:</p>
        <pre><code>cd ~/openvpn3-linux
meson setup --prefix=/usr _builddir
meson compile -C _builddir
sudo meson install -C _builddir</code></pre>
        
        <div class="success">
            <strong>Verification:</strong> After successful installation, verify OpenVPN 3 is working:
            <pre><code>openvpn3 --version
openvpn2 --help</code></pre>
        </div>
    </section>

    <section id="vpn-connection">
        <h2>üîó Connecting to Free VPN Services</h2>
        
        <p>With OpenVPN 3 installed, you need a VPN configuration file (.ovpn) from a provider. We explore two free options:</p>
        
        <table>
            <tr>
                <th>Service</th>
                <th>Credentials</th>
                <th>Pros</th>
                <th>Cons</th>
            </tr>
            <tr>
                <td><strong>VPNBook</strong><br><a href="https://www.vpnbook.com">vpnbook.com</a></td>
                <td>Username: <code>vpnbook</code><br>Password: <code>cr8tat4</code> (changes periodically)</td>
                <td>No registration required, multiple servers</td>
                <td>Password changes, compression compatibility issues</td>
            </tr>
            <tr>
                <td><strong>VPN Gate</strong><br><a href="https://www.vpngate.net">vpngate.net</a></td>
                <td>Username: <code>vpn</code><br>Password: <code>vpn</code></td>
                <td>Always works, no config changes needed</td>
                <td>Volunteer-run, variable speeds</td>
            </tr>
        </table>
        
        <h3><span class="step-number">1</span> Using VPNBook</h3>
        
        <h4>Download and Extract Configuration:</h4>
        <pre><code>cd ~/Downloads
wget https://www.vpnbook.com/free-openvpn-account/vpnbook-openvpn-us16.zip
unzip vpnbook-openvpn-us16.zip
cd vpnbook-openvpn-us16
ls -la *.ovpn  # List available server configurations</code></pre>
        
        <h4>Critical Fix: Compression Compatibility</h4>
        <p>Newer OpenVPN versions reject older compression settings. You'll encounter this error:</p>
        <pre><code>Could not start session: Compression is not available</code></pre>
        
        <p><strong>Solution:</strong> Edit the .ovpn file to comment out compression directives:</p>
        <pre><code>nano vpnbook-us16-tcp443.ovpn
# Find lines containing 'comp-lzo' or 'compress' 
# Add '#' to comment them out:
# comp-lzo
# Save and exit (Ctrl+X, Y, Enter)</code></pre>
        
        <h4>Connect to VPN:</h4>
        <pre><code>openvpn3 session-start --config vpnbook-us16-tcp443.ovpn
# When prompted:
# Auth User name: vpnbook
# Auth Password: cr8tat4</code></pre>
        
        <h3><span class="step-number">2</span> Alternative: VPN Gate (Simpler)</h3>
        <pre><code># 1. Visit https://www.vpngate.net
# 2. Download any OpenVPN config file
# 3. Connect (no compression fix needed):
openvpn3 session-start --config downloaded-file.ovpn
# Credentials: vpn / vpn</code></pre>
        
        <div class="note">
            <strong>Verifying Your Connection:</strong>
            <ul>
                <li><code>curl ifconfig.me</code> - Shows your public IP (should be VPN server's IP)</li>
                <li><code>ping 8.8.8.8</code> - Tests basic connectivity through VPN</li>
                <li>Visit <a href="https://whatismyipaddress.com">whatismyipaddress.com</a> in browser</li>
            </ul>
        </div>
    </section>

    <section id="session-management">
        <h2>üõ†Ô∏è OpenVPN 3 Session Management</h2>
        
        <p>OpenVPN 3 uses a different command structure than OpenVPN 2.x. Here's the essential command reference:</p>
        
        <table>
            <tr>
                <th>Task</th>
                <th>Command</th>
                <th>Notes</th>
            </tr>
            <tr>
                <td>Start session from file</td>
                <td><code>openvpn3 session-start --config file.ovpn</code></td>
                <td>Temporary session, not saved</td>
            </tr>
            <tr>
                <td>Import configuration</td>
                <td><code>openvpn3 config-import --config file.ovpn --name MyVPN</code></td>
                <td>Saves profile for repeated use</td>
            </tr>
            <tr>
                <td>Start from imported config</td>
                <td><code>openvpn3 session-start --config MyVPN</code></td>
                <td>Use after import</td>
            </tr>
            <tr>
                <td>List active sessions</td>
                <td><code>openvpn3 sessions-list</code></td>
                <td>Shows session paths and status</td>
            </tr>
            <tr>
                <td>Disconnect session</td>
                <td><code>openvpn3 session-manage --config PROFILE --disconnect</code></td>
                <td>Use profile name from sessions-list</td>
            </tr>
            <tr>
                <td>List imported configs</td>
                <td><code>openvpn3 configs-list</code></td>
                <td>Shows all saved profiles</td>
            </tr>
        </table>
        
        <h3>Common Pitfall: Directory Issues</h3>
        <p>After restarting your computer, you might encounter:</p>
        <pre><code>---- ERR_PROFILE_GENERIC: cannot open for read: vpnbook-us16-tcp443.ovpn</code></pre>
        
        <p><strong>Cause:</strong> You're not in the directory containing the .ovpn file.</p>
        <p><strong>Solution:</strong></p>
        <pre><code># Navigate to the correct folder
cd ~/Downloads/vpnbook-openvpn-us16
# OR import the config once to avoid directory issues:
openvpn3 config-import --config vpnbook-us16-tcp443.ovpn --name VPNBook --persistent
# Then start from anywhere:
openvpn3 session-start --config VPNBook</code></pre>
    </section>

    <section id="troubleshooting">
        <h2>üêõ Comprehensive Troubleshooting Guide</h2>
        
        <h3>Build Issues</h3>
        
        <h4>Problem: "Dependency 'gdbuspp' not found"</h4>
        <p><strong>Root Cause:</strong> gdbuspp is a custom OpenVPN library not in standard repositories.</p>
        <p><strong>Solution:</strong> Build from source as shown in Section 2.3.</p>
        
        <h4>Problem: "Include dir ./vendor/asio/asio/include does not exist"</h4>
        <p><strong>Root Cause:</strong> Git submodules not initialized.</p>
        <p><strong>Solution:</strong> Run <code>git submodule init && git submodule update --recursive</code>.</p>
        
        <h3>Connection Issues</h3>
        
        <h4>Problem: "Compression is not available"</h4>
        <p><strong>Root Cause:</strong> OpenVPN 3 security settings reject older compression methods.</p>
        <p><strong>Solution:</strong> Edit .ovpn file to comment out <code>comp-lzo</code> or <code>compress</code> lines.</p>
        
        <h4>Problem: Authentication failures</h4>
        <p><strong>Root Cause:</strong> VPNBook passwords change periodically (last change: Dec 10, 2025).</p>
        <p><strong>Solution:</strong> Check current password at <a href="https://www.vpnbook.com/freevpn">vpnbook.com/freevpn</a>.</p>
        
        <h3>Session Management Issues</h3>
        
        <h4>Problem: "Unknown command 'session-stop'"</h4>
        <p><strong>Root Cause:</strong> OpenVPN 3 uses different command syntax than OpenVPN 2.x.</p>
        <p><strong>Solution:</strong> Use <code>session-manage --config NAME --disconnect</code> instead.</p>
        
        <div class="warning">
            <strong>Remember:</strong> The terminal window running <code>openvpn3 session-start</code> must remain open to maintain the VPN connection. Closing it terminates the VPN tunnel.
        </div>
    </section>

    <section id="concepts">
        <h2>üß† Key Concepts Explained</h2>
        
        <h3>Why Build from Source?</h3>
        <p>Building from source gives you:</p>
        <ul>
            <li><strong>Latest features:</strong> Access to developments not yet in package repositories</li>
            <li><strong>Customization:</strong> Control over build options (like DCO support)</li>
            <li><strong>Learning:</strong> Understanding the software stack and dependencies</li>
            <li><strong>Troubleshooting skills:</strong> Experience resolving compilation and dependency issues</li>
        </ul>
        
        <h3>OpenVPN 3 vs. OpenVPN 2 Architecture</h3>
        <table>
            <tr>
                <th>Aspect</th>
                <th>OpenVPN 2.x</th>
                <th>OpenVPN 3 Linux</th>
            </tr>
            <tr>
                <td><strong>Architecture</strong></td>
                <td>Single monolithic process</td>
                <td>Modular, service-based (multiple D-Bus services)</td>
            </tr>
            <tr>
                <td><strong>Privileges</strong></td>
                <td>Often requires root</td>
                <td>Privilege separation, users can start own sessions</td>
            </tr>
            <tr>
                <td><strong>Configuration</strong></td>
                <td>Flat files (.ovpn)</td>
                <td>Managed configuration database</td>
            </tr>
            <tr>
                <td><strong>Management</strong></td>
                <td>Scripts or external tools</td>
                <td>Built-in session and config management</td>
            </tr>
        </table>
        
        <h3>Understanding the Build Tools</h3>
        <ul>
            <li><strong>Meson:</strong> Modern build system configuration tool (replaces Autotools)</li>
            <li><strong>Ninja:</strong> Small, fast build system backend (replaces Make)</li>
            <li><strong>pkg-config:</strong> Helper that provides compiler/linker flags for libraries</li>
            <li><strong>Git submodules:</strong> Nested Git repositories for dependencies</li>
        </ul>
    </section>

    <footer>
        <p>This guide documents a real-world OpenVPN 3 build and configuration process on Linux Mint.</p>
        <p>Based on troubleshooting session completed on Linux Mint 22 "Zara" (Ubuntu 24.04 "Noble" base).</p>
        <p>Commands and solutions were tested and verified through actual implementation.</p>
    </footer>
</body>
</html>
